import{j as I,g as v,m as d,o as r,c as g,b as p,w as m,a as u,q as i,n as x,r as k,d as B,t as f,v as T,y as $,l as w,u as L,s as P,F as j}from"./MBHCBpWb.js";import{_ as A}from"./C6ewYWun.js";import{_ as F}from"./BRP4ADVc.js";import{u as N}from"./B8A_wcxd.js";const S={class:"grid grid-cols-1 items-start gap-6 md:grid-cols-3 md:gap-8"},V={class:"aspect-w-4 aspect-h-3 relative bg-gray-100"},C={class:"grid grid-cols-1 gap-3 md:col-span-2"},q={class:"font-serif italic tracking-tighter text-slate-500"},H={key:0,class:"font-serif leading-relaxed md:text-lg md:leading-relaxed"},O=I({__name:"ArticleListItem",props:{article:{type:Object,required:!0}},setup(c){const t=c,_=new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}),o=v(),s=d(()=>{if(t.article.data.featuredImage.url)return t.article.data.featuredImage;const e=t.article.data.slices.find(a=>a.slice_type==="image");return e&&e.primary.image.url?e.primary.image:null}),y=d(()=>{const e=o.asDate(t.article.data.publishDate||t.article.first_publication_date);return _.format(e||void 0)}),l=d(()=>{const e=t.article.data.slices.filter(n=>n.slice_type==="text").map(n=>o.asText(n.primary.text)).join(" "),a=e.substring(0,300);return e.length>300?a.substring(0,a.lastIndexOf(" "))+"â€¦":a});return(e,a)=>{const n=T,h=$,D=A;return r(),g("li",S,[p(h,{field:c.article,"tab-index":"-1"},{default:m(()=>{var b;return[u("div",V,[(b=i(s))!=null&&b.url?(r(),x(n,{key:0,field:i(s),class:"object-cover"},null,8,["field"])):k("",!0)])]}),_:1},8,["field"]),u("div",C,[p(D,{as:"h2"},{default:m(()=>[p(h,{field:c.article},{default:m(()=>[B(f(e.$prismic.asText(c.article.data.title)),1)]),_:1},8,["field"])]),_:1}),u("p",q,f(i(y)),1),i(l)?(r(),g("p",H,f(i(l)),1)):k("",!0)])])}}}),z={class:"grid grid-cols-1 gap-16"},K=I({__name:"index",setup(c){const t=v(),{data:_}=w("$articles",()=>t.client.getAllByType("article",{orderings:[{field:"my.article.publishDate",direction:"desc"},{field:"document.first_publication_date",direction:"desc"}]})),o=N();return L({title:d(()=>{var s;return t.asText((s=o.value)==null?void 0:s.data.name)})}),(s,y)=>{const l=O,e=F;return r(),x(e,{size:"widest"},{default:m(()=>[u("ul",z,[(r(!0),g(j,null,P(i(_),a=>(r(),x(l,{key:a.id,article:a},null,8,["article"]))),128))])]),_:1})}}});export{K as default};
