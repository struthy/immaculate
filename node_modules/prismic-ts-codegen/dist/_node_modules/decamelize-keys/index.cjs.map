{"version":3,"file":"index.cjs","sources":["../../../node_modules/decamelize-keys/index.js"],"sourcesContent":["import mapObject from 'map-obj';\nimport QuickLru from 'quick-lru';\nimport decamelize from 'decamelize';\n\nconst has = (array, key) => array.some(element => {\n\tif (typeof element === 'string') {\n\t\treturn element === key;\n\t}\n\n\telement.lastIndex = 0;\n\n\treturn element.test(key);\n});\n\nconst cache = new QuickLru({maxSize: 100_000});\n\n// Reproduces behavior from `map-obj`.\nconst isObject = value =>\n\ttypeof value === 'object'\n\t\t&& value !== null\n\t\t&& !(value instanceof RegExp)\n\t\t&& !(value instanceof Error)\n\t\t&& !(value instanceof Date);\n\nconst transform = (input, options = {}) => {\n\tif (!isObject(input)) {\n\t\treturn input;\n\t}\n\n\tconst {\n\t\tseparator = '_',\n\t\texclude,\n\t\tdeep = false,\n\t} = options;\n\n\tconst makeMapper = parentPath => (key, value) => {\n\t\tif (deep && isObject(value)) {\n\t\t\tconst path = parentPath === undefined ? key : `${parentPath}.${key}`;\n\t\t\tvalue = mapObject(value, makeMapper(path));\n\t\t}\n\n\t\tif (!(exclude && has(exclude, key))) {\n\t\t\tconst cacheKey = `${separator}${key}`;\n\n\t\t\tif (cache.has(cacheKey)) {\n\t\t\t\tkey = cache.get(cacheKey);\n\t\t\t} else {\n\t\t\t\tconst returnValue = decamelize(key, {separator});\n\n\t\t\t\tif (key.length < 100) { // Prevent abuse\n\t\t\t\t\tcache.set(cacheKey, returnValue);\n\t\t\t\t}\n\n\t\t\t\tkey = returnValue;\n\t\t\t}\n\t\t}\n\n\t\treturn [key, value];\n\t};\n\n\treturn mapObject(input, makeMapper(undefined));\n};\n\nexport default function decamelizeKeys(input, options) {\n\tif (Array.isArray(input)) {\n\t\treturn Object.keys(input).map(key => transform(input[key], options));\n\t}\n\n\treturn transform(input, options);\n}\n"],"names":["QuickLru","mapObject","decamelize"],"mappings":";;;;AAIA,MAAM,MAAM,CAAC,OAAO,QAAQ,MAAM,KAAK,aAAW;AACjD,MAAI,OAAO,YAAY,UAAU;AAChC,WAAO,YAAY;AAAA,EACnB;AAED,UAAQ,YAAY;AAEpB,SAAO,QAAQ,KAAK,GAAG;AACxB,CAAC;AAED,MAAM,QAAQ,IAAIA,MAAS,EAAC,SAAS,IAAO,CAAC;AAG7C,MAAM,WAAW,WAChB,OAAO,UAAU,YACb,UAAU,QACV,EAAE,iBAAiB,WACnB,EAAE,iBAAiB,UACnB,EAAE,iBAAiB;AAExB,MAAM,YAAY,CAAC,OAAO,UAAU,OAAO;AAC1C,MAAI,CAAC,SAAS,KAAK,GAAG;AACrB,WAAO;AAAA,EACP;AAED,QAAM;AAAA,IACL,YAAY;AAAA,IACZ;AAAA,IACA,OAAO;AAAA,EACP,IAAG;AAEJ,QAAM,aAAa,gBAAc,CAAC,KAAK,UAAU;AAChD,QAAI,QAAQ,SAAS,KAAK,GAAG;AAE5B,cAAQC,QAAU,OAAO,WAAe,CAAC;AAAA,IACzC;AAED,QAAI,EAAE,WAAW,IAAI,SAAS,GAAG,IAAI;AACpC,YAAM,WAAW,GAAG,YAAY;AAEhC,UAAI,MAAM,IAAI,QAAQ,GAAG;AACxB,cAAM,MAAM,IAAI,QAAQ;AAAA,MAC5B,OAAU;AACN,cAAM,cAAcC,QAAW,KAAK,EAAC,UAAS,CAAC;AAE/C,YAAI,IAAI,SAAS,KAAK;AACrB,gBAAM,IAAI,UAAU,WAAW;AAAA,QAC/B;AAED,cAAM;AAAA,MACN;AAAA,IACD;AAED,WAAO,CAAC,KAAK,KAAK;AAAA,EACpB;AAEC,SAAOD,QAAU,OAAO,WAAoB,CAAC;AAC9C;AAEe,SAAS,eAAe,OAAO,SAAS;AACtD,MAAI,MAAM,QAAQ,KAAK,GAAG;AACzB,WAAO,OAAO,KAAK,KAAK,EAAE,IAAI,SAAO,UAAU,MAAM,GAAG,GAAG,OAAO,CAAC;AAAA,EACnE;AAED,SAAO,UAAU,OAAO,OAAO;AAChC;;","x_google_ignoreList":[0]}