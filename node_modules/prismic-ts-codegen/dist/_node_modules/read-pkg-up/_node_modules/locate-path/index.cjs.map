{"version":3,"file":"index.cjs","sources":["../../../../../node_modules/read-pkg-up/node_modules/locate-path/index.js"],"sourcesContent":["import process from 'node:process';\nimport path from 'node:path';\nimport fs, {promises as fsPromises} from 'node:fs';\nimport {fileURLToPath} from 'node:url';\nimport pLocate from 'p-locate';\n\nconst typeMappings = {\n\tdirectory: 'isDirectory',\n\tfile: 'isFile',\n};\n\nfunction checkType(type) {\n\tif (Object.hasOwnProperty.call(typeMappings, type)) {\n\t\treturn;\n\t}\n\n\tthrow new Error(`Invalid type specified: ${type}`);\n}\n\nconst matchType = (type, stat) => stat[typeMappings[type]]();\n\nconst toPath = urlOrPath => urlOrPath instanceof URL ? fileURLToPath(urlOrPath) : urlOrPath;\n\nexport async function locatePath(\n\tpaths,\n\t{\n\t\tcwd = process.cwd(),\n\t\ttype = 'file',\n\t\tallowSymlinks = true,\n\t\tconcurrency,\n\t\tpreserveOrder,\n\t} = {},\n) {\n\tcheckType(type);\n\tcwd = toPath(cwd);\n\n\tconst statFunction = allowSymlinks ? fsPromises.stat : fsPromises.lstat;\n\n\treturn pLocate(paths, async path_ => {\n\t\ttry {\n\t\t\tconst stat = await statFunction(path.resolve(cwd, path_));\n\t\t\treturn matchType(type, stat);\n\t\t} catch {\n\t\t\treturn false;\n\t\t}\n\t}, {concurrency, preserveOrder});\n}\n\nexport function locatePathSync(\n\tpaths,\n\t{\n\t\tcwd = process.cwd(),\n\t\ttype = 'file',\n\t\tallowSymlinks = true,\n\t} = {},\n) {\n\tcheckType(type);\n\tcwd = toPath(cwd);\n\n\tconst statFunction = allowSymlinks ? fs.statSync : fs.lstatSync;\n\n\tfor (const path_ of paths) {\n\t\ttry {\n\t\t\tconst stat = statFunction(path.resolve(cwd, path_), {\n\t\t\t\tthrowIfNoEntry: false,\n\t\t\t});\n\n\t\t\tif (!stat) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (matchType(type, stat)) {\n\t\t\t\treturn path_;\n\t\t\t}\n\t\t} catch {}\n\t}\n}\n"],"names":["fileURLToPath"],"mappings":";;;;;;AAMA,MAAM,eAAe;AAAA,EACpB,WAAW;AAAA,EACX,MAAM;AACP;AAEA,SAAS,UAAU,MAAM;AACxB,MAAI,OAAO,eAAe,KAAK,cAAc,IAAI,GAAG;AACnD;AAAA,EACA;AAED,QAAM,IAAI,MAAM,2BAA2B,MAAM;AAClD;AAEA,MAAM,YAAY,CAAC,MAAM,SAAS,KAAK,aAAa,IAAI,CAAC;AAEzD,MAAM,SAAS,eAAa,qBAAqB,MAAMA,SAAAA,cAAc,SAAS,IAAI;AA2B3E,SAAS,eACf,OACA;AAAA,EACC,MAAM,QAAQ,IAAK;AAAA,EACnB,OAAO;AAAA,EACP,gBAAgB;AAClB,IAAK,CAAE,GACL;AACD,YAAU,IAAI;AACd,QAAM,OAAO,GAAG;AAEhB,QAAM,eAAe,gBAAgB,GAAG,WAAW,GAAG;AAEtD,aAAW,SAAS,OAAO;AAC1B,QAAI;AACH,YAAM,OAAO,aAAa,KAAK,QAAQ,KAAK,KAAK,GAAG;AAAA,QACnD,gBAAgB;AAAA,MACpB,CAAI;AAED,UAAI,CAAC,MAAM;AACV;AAAA,MACA;AAED,UAAI,UAAU,MAAM,IAAI,GAAG;AAC1B,eAAO;AAAA,MACP;AAAA,IACD,QAAC;AAAA,IAAQ;AAAA,EACV;AACF;;","x_google_ignoreList":[0]}