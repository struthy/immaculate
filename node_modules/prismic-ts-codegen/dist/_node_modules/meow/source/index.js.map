{"version":3,"file":"index.js","sources":["../../../../node_modules/meow/source/index.js"],"sourcesContent":["import process from 'node:process';\nimport parseArguments from 'yargs-parser';\nimport camelCaseKeys from 'camelcase-keys';\nimport {trimNewlines} from 'trim-newlines';\nimport redent from 'redent';\nimport hardRejection from 'hard-rejection';\nimport normalizePackageData from 'normalize-package-data';\nimport {buildOptions} from './options.js';\nimport {buildParserOptions} from './parser.js';\nimport {validate, checkUnknownFlags, checkMissingRequiredFlags} from './validate.js';\n\nconst buildResult = (options, parserOptions) => {\n\tconst {pkg: package_} = options;\n\tconst argv = parseArguments(options.argv, parserOptions);\n\tlet help = '';\n\n\tif (options.help) {\n\t\thelp = trimNewlines((options.help || '').replace(/\\t+\\n*$/, ''));\n\n\t\tif (help.includes('\\n')) {\n\t\t\thelp = redent(help, 2);\n\t\t}\n\n\t\thelp = `\\n${help}`;\n\t}\n\n\tnormalizePackageData(package_);\n\n\tlet {description} = options;\n\tif (!description && description !== false) {\n\t\t({description} = package_);\n\t}\n\n\tdescription &&= help ? `\\n  ${description}\\n` : `\\n${description}`;\n\thelp = `${description || ''}${help}\\n`;\n\n\tconst showHelp = code => {\n\t\tconsole.log(help);\n\t\tprocess.exit(typeof code === 'number' ? code : 2);\n\t};\n\n\tconst showVersion = () => {\n\t\tconsole.log(typeof options.version === 'string' ? options.version : package_.version);\n\t\tprocess.exit(0);\n\t};\n\n\tif (argv._.length === 0 && options.argv.length === 1) {\n\t\tif (argv.version === true && options.autoVersion) {\n\t\t\tshowVersion();\n\t\t} else if (argv.help === true && options.autoHelp) {\n\t\t\tshowHelp(0);\n\t\t}\n\t}\n\n\tconst input = argv._;\n\tdelete argv._;\n\n\tif (!options.allowUnknownFlags) {\n\t\tcheckUnknownFlags(input);\n\t}\n\n\tconst flags = camelCaseKeys(argv, {exclude: ['--', /^\\w$/]});\n\tconst unnormalizedFlags = {...flags};\n\n\tvalidate(flags, options);\n\n\tfor (const flagValue of Object.values(options.flags)) {\n\t\tif (Array.isArray(flagValue.aliases)) {\n\t\t\tfor (const alias of flagValue.aliases) {\n\t\t\t\tdelete flags[alias];\n\t\t\t}\n\t\t}\n\n\t\tdelete flags[flagValue.shortFlag];\n\t}\n\n\tcheckMissingRequiredFlags(options.flags, flags, input);\n\n\treturn {\n\t\tinput,\n\t\tflags,\n\t\tunnormalizedFlags,\n\t\tpkg: package_,\n\t\thelp,\n\t\tshowHelp,\n\t\tshowVersion,\n\t};\n};\n\nconst meow = (helpText, options = {}) => {\n\tconst parsedOptions = buildOptions(helpText, options);\n\n\tif (parsedOptions.hardRejection) {\n\t\thardRejection();\n\t}\n\n\tconst parserOptions = buildParserOptions(parsedOptions);\n\tconst result = buildResult(parsedOptions, parserOptions);\n\n\tprocess.title = result.pkg.bin ? Object.keys(result.pkg.bin).at(0) : result.pkg.name;\n\n\treturn result;\n};\n\nexport default meow;\n"],"names":["parseArguments","camelCaseKeys"],"mappings":";;;;;;;;;;AAWA,MAAM,cAAc,CAAC,SAAS,kBAAkB;AAC/C,QAAM,EAAC,KAAK,SAAQ,IAAI;AACxB,QAAM,OAAOA,YAAe,QAAQ,MAAM,aAAa;AACvD,MAAI,OAAO;AAEX,MAAI,QAAQ,MAAM;AACjB,WAAO,cAAc,QAAQ,QAAQ,IAAI,QAAQ,WAAW,EAAE,CAAC;AAE/D,QAAI,KAAK,SAAS,IAAI,GAAG;AACxB,aAAO,OAAO,MAAM,CAAC;AAAA,IACrB;AAED,WAAO;AAAA,EAAK;AAAA,EACZ;AAED,uBAAqB,QAAQ;AAE7B,MAAI,EAAC,YAAW,IAAI;AACpB,MAAI,CAAC,eAAe,gBAAgB,OAAO;AAC1C,KAAC,EAAC,YAAW,IAAI;AAAA,EACjB;AAED,gCAAgB,OAAO;AAAA,IAAO;AAAA,IAAkB;AAAA,EAAK;AACrD,SAAO,GAAG,eAAe,KAAK;AAAA;AAE9B,QAAM,WAAW,UAAQ;AACxB,YAAQ,IAAI,IAAI;AAChB,YAAQ,KAAK,OAAO,SAAS,WAAW,OAAO,CAAC;AAAA,EAClD;AAEC,QAAM,cAAc,MAAM;AACzB,YAAQ,IAAI,OAAO,QAAQ,YAAY,WAAW,QAAQ,UAAU,SAAS,OAAO;AACpF,YAAQ,KAAK,CAAC;AAAA,EAChB;AAEC,MAAI,KAAK,EAAE,WAAW,KAAK,QAAQ,KAAK,WAAW,GAAG;AACrD,QAAI,KAAK,YAAY,QAAQ,QAAQ,aAAa;AACjD;IACA,WAAU,KAAK,SAAS,QAAQ,QAAQ,UAAU;AAClD,eAAS,CAAC;AAAA,IACV;AAAA,EACD;AAED,QAAM,QAAQ,KAAK;AACnB,SAAO,KAAK;AAEZ,MAAI,CAAC,QAAQ,mBAAmB;AAC/B,sBAAkB,KAAK;AAAA,EACvB;AAED,QAAM,QAAQC,cAAc,MAAM,EAAC,SAAS,CAAC,MAAM,MAAM,EAAC,CAAC;AAC3D,QAAM,oBAAoB,EAAC,GAAG,MAAK;AAEnC,WAAS,OAAO,OAAO;AAEvB,aAAW,aAAa,OAAO,OAAO,QAAQ,KAAK,GAAG;AACrD,QAAI,MAAM,QAAQ,UAAU,OAAO,GAAG;AACrC,iBAAW,SAAS,UAAU,SAAS;AACtC,eAAO,MAAM,KAAK;AAAA,MAClB;AAAA,IACD;AAED,WAAO,MAAM,UAAU,SAAS;AAAA,EAChC;AAED,4BAA0B,QAAQ,OAAO,OAAO,KAAK;AAErD,SAAO;AAAA,IACN;AAAA,IACA;AAAA,IACA;AAAA,IACA,KAAK;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,EACF;AACA;AAEK,MAAC,OAAO,CAAC,UAAU,UAAU,OAAO;AACxC,QAAM,gBAAgB,aAAa,UAAU,OAAO;AAEpD,MAAI,cAAc,eAAe;AAChC;EACA;AAED,QAAM,gBAAgB,mBAAmB,aAAa;AACtD,QAAM,SAAS,YAAY,eAAe,aAAa;AAEvD,UAAQ,QAAQ,OAAO,IAAI,MAAM,OAAO,KAAK,OAAO,IAAI,GAAG,EAAE,GAAG,CAAC,IAAI,OAAO,IAAI;AAEhF,SAAO;AACR;","x_google_ignoreList":[0]}