import { existsSync } from "fs";
import _jiti from "jiti";
import { resolve } from "path";
const jiti = _jiti(process.cwd());
const loadModuleWithJiti = (id) => {
  const mod = jiti(id);
  return typeof mod === "object" && mod !== null && "default" in mod ? mod.default : mod;
};
const DEFAULT_CONFIG_PATHS = [
  "prismicCodegen.config.ts",
  "prismicCodegen.config.js"
];
const loadConfig = (config) => {
  if (config.path) {
    if (existsSync(config.path)) {
      return loadModuleWithJiti(resolve(config.path));
    } else {
      throw new Error(`Config file does not exist: ${config.path}`);
    }
  } else {
    for (const configPath of DEFAULT_CONFIG_PATHS) {
      if (existsSync(configPath)) {
        return loadModuleWithJiti(resolve(configPath));
      }
    }
  }
  return {};
};
export {
  loadConfig
};
//# sourceMappingURL=loadConfig.js.map
