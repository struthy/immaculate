"use strict";
Object.defineProperty(exports, Symbol.toStringTag, { value: "Module" });
const logger = require("../logger.cjs");
const object = require("../object.cjs");
const worldwide = require("../worldwide.cjs");
const _handlers = require("./_handlers.cjs");
function addConsoleInstrumentationHandler(handler) {
  const type = "console";
  _handlers.addHandler(type, handler);
  _handlers.maybeInstrument(type, instrumentConsole);
}
function instrumentConsole() {
  if (!("console" in worldwide.GLOBAL_OBJ)) {
    return;
  }
  logger.CONSOLE_LEVELS.forEach(function(level) {
    if (!(level in worldwide.GLOBAL_OBJ.console)) {
      return;
    }
    object.fill(worldwide.GLOBAL_OBJ.console, level, function(originalConsoleMethod) {
      logger.originalConsoleMethods[level] = originalConsoleMethod;
      return function(...args) {
        const handlerData = { args, level };
        _handlers.triggerHandlers("console", handlerData);
        const log = logger.originalConsoleMethods[level];
        log && log.apply(worldwide.GLOBAL_OBJ.console, args);
      };
    });
  });
}
exports.addConsoleInstrumentationHandler = addConsoleInstrumentationHandler;
//# sourceMappingURL=console.cjs.map
