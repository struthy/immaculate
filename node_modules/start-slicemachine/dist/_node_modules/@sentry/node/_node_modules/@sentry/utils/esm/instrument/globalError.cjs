"use strict";
Object.defineProperty(exports, Symbol.toStringTag, { value: "Module" });
const worldwide = require("../worldwide.cjs");
const _handlers = require("./_handlers.cjs");
let _oldOnErrorHandler = null;
function addGlobalErrorInstrumentationHandler(handler) {
  const type = "error";
  _handlers.addHandler(type, handler);
  _handlers.maybeInstrument(type, instrumentError);
}
function instrumentError() {
  _oldOnErrorHandler = worldwide.GLOBAL_OBJ.onerror;
  worldwide.GLOBAL_OBJ.onerror = function(msg, url, line, column, error) {
    const handlerData = {
      column,
      error,
      line,
      msg,
      url
    };
    _handlers.triggerHandlers("error", handlerData);
    if (_oldOnErrorHandler && !_oldOnErrorHandler.__SENTRY_LOADER__) {
      return _oldOnErrorHandler.apply(this, arguments);
    }
    return false;
  };
  worldwide.GLOBAL_OBJ.onerror.__SENTRY_INSTRUMENTED__ = true;
}
exports.addGlobalErrorInstrumentationHandler = addGlobalErrorInstrumentationHandler;
//# sourceMappingURL=globalError.cjs.map
