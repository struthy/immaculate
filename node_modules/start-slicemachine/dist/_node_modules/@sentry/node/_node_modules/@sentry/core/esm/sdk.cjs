"use strict";
Object.defineProperty(exports, Symbol.toStringTag, { value: "Module" });
const debugBuild = require("./debug-build.cjs");
const exports$1 = require("./exports.cjs");
const hub = require("./hub.cjs");
const logger = require("../../utils/esm/logger.cjs");
function initAndBind(clientClass, options) {
  if (options.debug === true) {
    if (debugBuild.DEBUG_BUILD) {
      logger.logger.enable();
    } else {
      logger.consoleSandbox(() => {
        console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.");
      });
    }
  }
  const scope = exports$1.getCurrentScope();
  scope.update(options.initialScope);
  const client = new clientClass(options);
  setCurrentClient(client);
  initializeClient(client);
}
function setCurrentClient(client) {
  const hub$1 = hub.getCurrentHub();
  const top = hub$1.getStackTop();
  top.client = client;
  top.scope.setClient(client);
}
function initializeClient(client) {
  if (client.init) {
    client.init();
  } else if (client.setupIntegrations) {
    client.setupIntegrations();
  }
}
exports.initAndBind = initAndBind;
exports.setCurrentClient = setCurrentClient;
//# sourceMappingURL=sdk.cjs.map
