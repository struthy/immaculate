{"version":3,"file":"sdk.cjs","sources":["../../../../../../../../../../node_modules/@sentry/node/node_modules/@sentry/core/esm/sdk.js"],"sourcesContent":["import { logger, consoleSandbox } from '@sentry/utils';\nimport { DEBUG_BUILD } from './debug-build.js';\nimport { getCurrentScope } from './exports.js';\nimport { getCurrentHub } from './hub.js';\n\n/** A class object that can instantiate Client objects. */\n\n/**\n * Internal function to create a new SDK client instance. The client is\n * installed and then bound to the current scope.\n *\n * @param clientClass The client class to instantiate.\n * @param options Options to pass to the client.\n */\nfunction initAndBind(\n  clientClass,\n  options,\n) {\n  if (options.debug === true) {\n    if (DEBUG_BUILD) {\n      logger.enable();\n    } else {\n      // use `console.warn` rather than `logger.warn` since by non-debug bundles have all `logger.x` statements stripped\n      consoleSandbox(() => {\n        // eslint-disable-next-line no-console\n        console.warn('[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.');\n      });\n    }\n  }\n  const scope = getCurrentScope();\n  scope.update(options.initialScope);\n\n  const client = new clientClass(options);\n  setCurrentClient(client);\n  initializeClient(client);\n}\n\n/**\n * Make the given client the current client.\n */\nfunction setCurrentClient(client) {\n  // eslint-disable-next-line deprecation/deprecation\n  const hub = getCurrentHub();\n  // eslint-disable-next-line deprecation/deprecation\n  const top = hub.getStackTop();\n  top.client = client;\n  top.scope.setClient(client);\n}\n\n/**\n * Initialize the client for the current scope.\n * Make sure to call this after `setCurrentClient()`.\n */\nfunction initializeClient(client) {\n  if (client.init) {\n    client.init();\n    // TODO v8: Remove this fallback\n    // eslint-disable-next-line deprecation/deprecation\n  } else if (client.setupIntegrations) {\n    // eslint-disable-next-line deprecation/deprecation\n    client.setupIntegrations();\n  }\n}\n\nexport { initAndBind, setCurrentClient };\n//# sourceMappingURL=sdk.js.map\n"],"names":["DEBUG_BUILD","logger","consoleSandbox","getCurrentScope","hub","getCurrentHub"],"mappings":";;;;;;AAcA,SAAS,YACP,aACA,SACA;AACA,MAAI,QAAQ,UAAU,MAAM;AAC1B,QAAIA,wBAAa;AACfC,aAAM,OAAC,OAAM;AAAA,IACnB,OAAW;AAELC,aAAAA,eAAe,MAAM;AAEnB,gBAAQ,KAAK,8EAA8E;AAAA,MACnG,CAAO;AAAA,IACF;AAAA,EACF;AACD,QAAM,QAAQC,UAAAA;AACd,QAAM,OAAO,QAAQ,YAAY;AAEjC,QAAM,SAAS,IAAI,YAAY,OAAO;AACtC,mBAAiB,MAAM;AACvB,mBAAiB,MAAM;AACzB;AAKA,SAAS,iBAAiB,QAAQ;AAEhC,QAAMC,QAAMC,IAAAA;AAEZ,QAAM,MAAMD,MAAI;AAChB,MAAI,SAAS;AACb,MAAI,MAAM,UAAU,MAAM;AAC5B;AAMA,SAAS,iBAAiB,QAAQ;AAChC,MAAI,OAAO,MAAM;AACf,WAAO,KAAI;AAAA,EAGf,WAAa,OAAO,mBAAmB;AAEnC,WAAO,kBAAiB;AAAA,EACzB;AACH;;;","x_google_ignoreList":[0]}