{"version":3,"file":"checkin.js","sources":["../../../../../../../../../../node_modules/@sentry/node/node_modules/@sentry/core/esm/checkin.js"],"sourcesContent":["import { dsnToString, dropUndefinedKeys, createEnvelope } from '@sentry/utils';\n\n/**\n * Create envelope from check in item.\n */\nfunction createCheckInEnvelope(\n  checkIn,\n  dynamicSamplingContext,\n  metadata,\n  tunnel,\n  dsn,\n) {\n  const headers = {\n    sent_at: new Date().toISOString(),\n  };\n\n  if (metadata && metadata.sdk) {\n    headers.sdk = {\n      name: metadata.sdk.name,\n      version: metadata.sdk.version,\n    };\n  }\n\n  if (!!tunnel && !!dsn) {\n    headers.dsn = dsnToString(dsn);\n  }\n\n  if (dynamicSamplingContext) {\n    headers.trace = dropUndefinedKeys(dynamicSamplingContext) ;\n  }\n\n  const item = createCheckInEnvelopeItem(checkIn);\n  return createEnvelope(headers, [item]);\n}\n\nfunction createCheckInEnvelopeItem(checkIn) {\n  const checkInHeaders = {\n    type: 'check_in',\n  };\n  return [checkInHeaders, checkIn];\n}\n\nexport { createCheckInEnvelope };\n//# sourceMappingURL=checkin.js.map\n"],"names":[],"mappings":";;;AAKA,SAAS,sBACP,SACA,wBACA,UACA,QACA,KACA;AACA,QAAM,UAAU;AAAA,IACd,UAAS,oBAAI,KAAM,GAAC,YAAa;AAAA,EACrC;AAEE,MAAI,YAAY,SAAS,KAAK;AAC5B,YAAQ,MAAM;AAAA,MACZ,MAAM,SAAS,IAAI;AAAA,MACnB,SAAS,SAAS,IAAI;AAAA,IAC5B;AAAA,EACG;AAED,MAAI,CAAC,CAAC,UAAU,CAAC,CAAC,KAAK;AACrB,YAAQ,MAAM,YAAY,GAAG;AAAA,EAC9B;AAED,MAAI,wBAAwB;AAC1B,YAAQ,QAAQ,kBAAkB,sBAAsB;AAAA,EACzD;AAED,QAAM,OAAO,0BAA0B,OAAO;AAC9C,SAAO,eAAe,SAAS,CAAC,IAAI,CAAC;AACvC;AAEA,SAAS,0BAA0B,SAAS;AAC1C,QAAM,iBAAiB;AAAA,IACrB,MAAM;AAAA,EACV;AACE,SAAO,CAAC,gBAAgB,OAAO;AACjC;","x_google_ignoreList":[0]}