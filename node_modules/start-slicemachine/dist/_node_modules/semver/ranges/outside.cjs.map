{"version":3,"file":"outside.cjs","sources":["../../../../../../node_modules/semver/ranges/outside.js"],"sourcesContent":["const SemVer = require('../classes/semver')\nconst Comparator = require('../classes/comparator')\nconst { ANY } = Comparator\nconst Range = require('../classes/range')\nconst satisfies = require('../functions/satisfies')\nconst gt = require('../functions/gt')\nconst lt = require('../functions/lt')\nconst lte = require('../functions/lte')\nconst gte = require('../functions/gte')\n\nconst outside = (version, range, hilo, options) => {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  let gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisfies the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let high = null\n    let low = null\n\n    comparators.forEach((comparator) => {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nmodule.exports = outside\n"],"names":["require$$0","require$$1","require$$2","require$$3","require$$4","require$$5","require$$6","require$$7","range","comparator"],"mappings":";;;;;;;;;;AAAA,MAAM,SAASA,OAA4B;AAC3C,MAAM,aAAaC,WAAAA,UAAgC;AACnD,MAAM,EAAE,IAAK,IAAG;AAChB,MAAM,QAAQC,MAAAA,UAA2B;AACzC,MAAM,YAAYC,YAAiC;AACnD,MAAM,KAAKC,KAA0B;AACrC,MAAM,KAAKC,KAA0B;AACrC,MAAM,MAAMC,MAA2B;AACvC,MAAM,MAAMC,MAA2B;AAEvC,MAAM,UAAU,CAAC,SAASC,QAAO,MAAM,YAAY;AACjD,YAAU,IAAI,OAAO,SAAS,OAAO;AACrC,EAAAA,SAAQ,IAAI,MAAMA,QAAO,OAAO;AAEhC,MAAI,MAAM,OAAO,MAAM,MAAM;AAC7B,UAAQ,MAAI;AAAA,IACV,KAAK;AACH,aAAO;AACP,cAAQ;AACR,aAAO;AACP,aAAO;AACP,cAAQ;AACR;AAAA,IACF,KAAK;AACH,aAAO;AACP,cAAQ;AACR,aAAO;AACP,aAAO;AACP,cAAQ;AACR;AAAA,IACF;AACE,YAAM,IAAI,UAAU,uCAAuC;AAAA,EAC9D;AAGD,MAAI,UAAU,SAASA,QAAO,OAAO,GAAG;AACtC,WAAO;AAAA,EACR;AAKD,WAAS,IAAI,GAAG,IAAIA,OAAM,IAAI,QAAQ,EAAE,GAAG;AACzC,UAAM,cAAcA,OAAM,IAAI,CAAC;AAE/B,QAAI,OAAO;AACX,QAAI,MAAM;AAEV,gBAAY,QAAQ,CAACC,gBAAe;AAClC,UAAIA,YAAW,WAAW,KAAK;AAC7B,QAAAA,cAAa,IAAI,WAAW,SAAS;AAAA,MACtC;AACD,aAAO,QAAQA;AACf,YAAM,OAAOA;AACb,UAAI,KAAKA,YAAW,QAAQ,KAAK,QAAQ,OAAO,GAAG;AACjD,eAAOA;AAAA,MACf,WAAiB,KAAKA,YAAW,QAAQ,IAAI,QAAQ,OAAO,GAAG;AACvD,cAAMA;AAAA,MACP;AAAA,IACP,CAAK;AAID,QAAI,KAAK,aAAa,QAAQ,KAAK,aAAa,OAAO;AACrD,aAAO;AAAA,IACR;AAID,SAAK,CAAC,IAAI,YAAY,IAAI,aAAa,SACnC,MAAM,SAAS,IAAI,MAAM,GAAG;AAC9B,aAAO;AAAA,IACb,WAAe,IAAI,aAAa,SAAS,KAAK,SAAS,IAAI,MAAM,GAAG;AAC9D,aAAO;AAAA,IACR;AAAA,EACF;AACD,SAAO;AACT;AAEA,IAAA,YAAiB;;","x_google_ignoreList":[0]}