{"version":3,"file":"simplify.js","sources":["../../../../../../node_modules/semver/ranges/simplify.js"],"sourcesContent":["// given a set of versions and a range, create a \"simplified\" range\n// that includes the same versions that the original range does\n// If the original range is shorter than the simplified one, return that.\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\nmodule.exports = (versions, range, options) => {\n  const set = []\n  let first = null\n  let prev = null\n  const v = versions.sort((a, b) => compare(a, b, options))\n  for (const version of v) {\n    const included = satisfies(version, range, options)\n    if (included) {\n      prev = version\n      if (!first) {\n        first = version\n      }\n    } else {\n      if (prev) {\n        set.push([first, prev])\n      }\n      prev = null\n      first = null\n    }\n  }\n  if (first) {\n    set.push([first, null])\n  }\n\n  const ranges = []\n  for (const [min, max] of set) {\n    if (min === max) {\n      ranges.push(min)\n    } else if (!max && min === v[0]) {\n      ranges.push('*')\n    } else if (!max) {\n      ranges.push(`>=${min}`)\n    } else if (min === v[0]) {\n      ranges.push(`<=${max}`)\n    } else {\n      ranges.push(`${min} - ${max}`)\n    }\n  }\n  const simplified = ranges.join(' || ')\n  const original = typeof range.raw === 'string' ? range.raw : String(range)\n  return simplified.length < original.length ? simplified : range\n}\n"],"names":["require$$0","require$$1"],"mappings":";;AAGA,MAAM,YAAYA;AAClB,MAAM,UAAUC;AAChB,IAAA,WAAiB,CAAC,UAAU,OAAO,YAAY;AAC7C,QAAM,MAAM,CAAE;AACd,MAAI,QAAQ;AACZ,MAAI,OAAO;AACX,QAAM,IAAI,SAAS,KAAK,CAAC,GAAG,MAAM,QAAQ,GAAG,GAAG,OAAO,CAAC;AACxD,aAAW,WAAW,GAAG;AACvB,UAAM,WAAW,UAAU,SAAS,OAAO,OAAO;AAClD,QAAI,UAAU;AACZ,aAAO;AACP,UAAI,CAAC,OAAO;AACV,gBAAQ;AAAA,MACT;AAAA,IACP,OAAW;AACL,UAAI,MAAM;AACR,YAAI,KAAK,CAAC,OAAO,IAAI,CAAC;AAAA,MACvB;AACD,aAAO;AACP,cAAQ;AAAA,IACT;AAAA,EACF;AACD,MAAI,OAAO;AACT,QAAI,KAAK,CAAC,OAAO,IAAI,CAAC;AAAA,EACvB;AAED,QAAM,SAAS,CAAE;AACjB,aAAW,CAAC,KAAK,GAAG,KAAK,KAAK;AAC5B,QAAI,QAAQ,KAAK;AACf,aAAO,KAAK,GAAG;AAAA,IAChB,WAAU,CAAC,OAAO,QAAQ,EAAE,CAAC,GAAG;AAC/B,aAAO,KAAK,GAAG;AAAA,IACrB,WAAe,CAAC,KAAK;AACf,aAAO,KAAK,KAAK,KAAK;AAAA,IACvB,WAAU,QAAQ,EAAE,CAAC,GAAG;AACvB,aAAO,KAAK,KAAK,KAAK;AAAA,IAC5B,OAAW;AACL,aAAO,KAAK,GAAG,SAAS,KAAK;AAAA,IAC9B;AAAA,EACF;AACD,QAAM,aAAa,OAAO,KAAK,MAAM;AACrC,QAAM,WAAW,OAAO,MAAM,QAAQ,WAAW,MAAM,MAAM,OAAO,KAAK;AACzE,SAAO,WAAW,SAAS,SAAS,SAAS,aAAa;AAC5D;","x_google_ignoreList":[0]}