"use strict";
Object.defineProperty(exports, Symbol.toStringTag, { value: "Module" });
const semver = require("../classes/semver.cjs");
const parse$1 = require("./parse.cjs");
const re$1 = require("../internal/re.cjs");
const SemVer = semver.semver;
const parse = parse$1.parse_1;
const { re, t } = re$1.reExports;
const coerce = (version, options) => {
  if (version instanceof SemVer) {
    return version;
  }
  if (typeof version === "number") {
    version = String(version);
  }
  if (typeof version !== "string") {
    return null;
  }
  options = options || {};
  let match = null;
  if (!options.rtl) {
    match = version.match(re[t.COERCE]);
  } else {
    let next;
    while ((next = re[t.COERCERTL].exec(version)) && (!match || match.index + match[0].length !== version.length)) {
      if (!match || next.index + next[0].length !== match.index + match[0].length) {
        match = next;
      }
      re[t.COERCERTL].lastIndex = next.index + next[1].length + next[2].length;
    }
    re[t.COERCERTL].lastIndex = -1;
  }
  if (match === null) {
    return null;
  }
  return parse(`${match[2]}.${match[3] || "0"}.${match[4] || "0"}`, options);
};
var coerce_1 = coerce;
exports.coerce_1 = coerce_1;
//# sourceMappingURL=coerce.cjs.map
