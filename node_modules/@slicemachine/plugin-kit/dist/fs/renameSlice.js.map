{"version":3,"file":"renameSlice.js","sources":["../../../src/fs/renameSlice.ts"],"sourcesContent":["import * as fse from \"fs-extra\";\n\nimport { SliceMachineActions } from \"../createSliceMachineActions\";\n\nimport {\n\tbuildSliceDirectoryPath,\n\tBuildSliceDirectoryPathArgs,\n} from \"./buildSliceDirectoryPath\";\nimport { writeSliceModel, WriteSliceModelArgs } from \"./writeSliceModel\";\n\nexport type RenameSliceArgs = {\n\tactions: SliceMachineActions;\n} & Omit<BuildSliceDirectoryPathArgs, \"sliceID\"> &\n\tWriteSliceModelArgs;\n\nexport const renameSlice = async (args: RenameSliceArgs): Promise<void> => {\n\tconst { model: existingModel } = await args.actions.readSliceModel({\n\t\tlibraryID: args.libraryID,\n\t\tsliceID: args.model.id,\n\t});\n\n\tawait fse.move(\n\t\tawait buildSliceDirectoryPath({\n\t\t\t...args,\n\t\t\tmodel: existingModel,\n\t\t\tabsolute: true,\n\t\t}),\n\t\tawait buildSliceDirectoryPath({\n\t\t\t...args,\n\t\t\tabsolute: true,\n\t\t}),\n\t);\n\n\tawait writeSliceModel(args);\n};\n"],"names":[],"mappings":";;;AAea,MAAA,cAAc,OAAO,SAAwC;AACzE,QAAM,EAAE,OAAO,cAAA,IAAkB,MAAM,KAAK,QAAQ,eAAe;AAAA,IAClE,WAAW,KAAK;AAAA,IAChB,SAAS,KAAK,MAAM;AAAA,EAAA,CACpB;AAEK,QAAA,IAAI,KACT,MAAM,wBAAwB;AAAA,IAC7B,GAAG;AAAA,IACH,OAAO;AAAA,IACP,UAAU;AAAA,EAAA,CACV,GACD,MAAM,wBAAwB;AAAA,IAC7B,GAAG;AAAA,IACH,UAAU;AAAA,EACV,CAAA,CAAC;AAGH,QAAM,gBAAgB,IAAI;AAC3B;"}