{"version":3,"file":"defineSliceMachinePlugin.cjs","sources":["../../src/defineSliceMachinePlugin.ts"],"sourcesContent":["import { CreateScopeReturnType } from \"./lib/HookSystem\";\nimport { SliceMachineContext } from \"./createSliceMachineContext\";\nimport {\n\tSliceMachinePluginOptions,\n\tSliceMachineHookExtraArgs,\n\tSliceMachineHooks,\n} from \"./types\";\n\n/**\n * Slice Machine plugin definition.\n */\nexport type SliceMachinePlugin<\n\tTPluginOptions extends Record<string, unknown> = Record<string, unknown>,\n> = {\n\t/**\n\t * Information about the plugin.\n\t */\n\tmeta: {\n\t\tname: string;\n\t};\n\n\t/**\n\t * Default options.\n\t */\n\tdefaultOptions?: TPluginOptions;\n\n\t/**\n\t * Plugin setup.\n\t */\n\tsetup: (\n\t\tcontext: Omit<SliceMachineContext<TPluginOptions>, \"actions\"> &\n\t\t\tPick<\n\t\t\t\tCreateScopeReturnType<\n\t\t\t\t\tSliceMachineHooks,\n\t\t\t\t\tSliceMachineHookExtraArgs<TPluginOptions>\n\t\t\t\t>,\n\t\t\t\t\"hook\" | \"unhook\"\n\t\t\t>,\n\t) => void | Promise<void>;\n};\n\n/**\n * @internal\n */\nexport type LoadedSliceMachinePlugin<\n\tTPluginOptions extends SliceMachinePluginOptions = SliceMachinePluginOptions,\n> = SliceMachinePlugin<TPluginOptions> & {\n\tresolve: string | SliceMachinePlugin;\n\toptions: TPluginOptions;\n};\n\nexport const defineSliceMachinePlugin = <\n\tTPluginOptions extends SliceMachinePluginOptions = SliceMachinePluginOptions,\n>(\n\tplugin: SliceMachinePlugin<TPluginOptions>,\n): SliceMachinePlugin<TPluginOptions> => plugin;\n"],"names":[],"mappings":";;AAmDa,MAAA,2BAA2B,CAGvC,WACwC;;"}