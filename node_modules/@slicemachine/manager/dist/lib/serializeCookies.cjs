"use strict";
Object.defineProperty(exports, Symbol.toStringTag, { value: "Module" });
const cookie = require("cookie");
const COOKIE_SEPARATOR = "; ";
const castParsedCookies = (cookies) => {
  if (Array.isArray(cookies)) {
    return cookie.parse(cookies.join(COOKIE_SEPARATOR));
  } else if (typeof cookies === "string") {
    return cookie.parse(cookies);
  } else {
    return cookies;
  }
};
const serializeCookies = (cookies, args = {}) => {
  const cookiesToSerialize = {
    ...castParsedCookies(args.cookieJar || {}),
    ...castParsedCookies(cookies)
  };
  const items = [];
  for (const name in cookiesToSerialize) {
    items.push(cookie.serialize(name, cookiesToSerialize[name], {
      // Cookies need be stored raw (not encoded or escaped), so that consumers can format them the way they want them to be formatted.
      encode: (cookie2) => cookie2
    }));
  }
  return items.join(COOKIE_SEPARATOR);
};
exports.serializeCookies = serializeCookies;
//# sourceMappingURL=serializeCookies.cjs.map
