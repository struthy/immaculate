"use strict";
const factory = require("../../../../../_virtual/factory.cjs");
require("./local/cache.cjs");
require("./local/client.cjs");
require("./remote/client.cjs");
const cache = require("../../../../../_virtual/cache.cjs");
const client = require("../../../../../_virtual/client2.cjs");
const client$1 = require("../../../../../_virtual/client.cjs");
Object.defineProperty(factory.__exports, "__esModule", { value: true });
factory.__exports.Experiment = void 0;
const cache_1 = cache.__exports;
const client_1 = client.__exports;
const client_2 = client$1.__exports;
const remoteEvaluationInstances = {};
const localEvaluationInstances = {};
const initialize = (apiKey, config) => {
  return initializeRemote(apiKey, config);
};
const initializeRemote = (apiKey, config) => {
  if (!remoteEvaluationInstances[apiKey]) {
    remoteEvaluationInstances[apiKey] = new client_2.RemoteEvaluationClient(apiKey, config);
  }
  return remoteEvaluationInstances[apiKey];
};
const initializeLocal = (apiKey, config) => {
  if (!localEvaluationInstances[apiKey]) {
    localEvaluationInstances[apiKey] = new client_1.LocalEvaluationClient(apiKey, config, new cache_1.InMemoryFlagConfigCache());
  }
  return localEvaluationInstances[apiKey];
};
factory.__exports.Experiment = {
  initialize,
  initializeRemote,
  initializeLocal
};
module.exports = factory.__exports;
//# sourceMappingURL=factory.cjs.map
