{"version":3,"file":"assignment.cjs","sources":["../../../../../../../../../node_modules/@amplitude/experiment-node-server/dist/src/assignment/assignment.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Assignment = void 0;\nclass Assignment {\n    constructor(user, results) {\n        this.timestamp = Date.now();\n        this.user = user;\n        this.results = results;\n    }\n    canonicalize() {\n        var _a, _b, _c;\n        let canonical = `${(_a = this.user.user_id) === null || _a === void 0 ? void 0 : _a.trim()} ${(_b = this.user.device_id) === null || _b === void 0 ? void 0 : _b.trim()} `;\n        for (const key of Object.keys(this.results).sort()) {\n            const variant = this.results[key];\n            if (variant === null || variant === void 0 ? void 0 : variant.key) {\n                canonical += key.trim() + ' ' + ((_c = variant === null || variant === void 0 ? void 0 : variant.key) === null || _c === void 0 ? void 0 : _c.trim()) + ' ';\n            }\n        }\n        return canonical;\n    }\n}\nexports.Assignment = Assignment;\n"],"names":["assignment"],"mappings":";;AACA,OAAO,eAAeA,WAAAA,WAAS,cAAc,EAAE,OAAO,KAAI,CAAE;AAC1CA,WAAAA,UAAA,aAAG;AACrB,MAAM,WAAW;AAAA,EACb,YAAY,MAAM,SAAS;AACvB,SAAK,YAAY,KAAK;AACtB,SAAK,OAAO;AACZ,SAAK,UAAU;AAAA,EAClB;AAAA,EACD,eAAe;AACX,QAAI,IAAI,IAAI;AACZ,QAAI,YAAY,IAAI,KAAK,KAAK,KAAK,aAAa,QAAQ,OAAO,SAAS,SAAS,GAAG,KAAI,MAAO,KAAK,KAAK,KAAK,eAAe,QAAQ,OAAO,SAAS,SAAS,GAAG,KAAM;AACvK,eAAW,OAAO,OAAO,KAAK,KAAK,OAAO,EAAE,QAAQ;AAChD,YAAM,UAAU,KAAK,QAAQ,GAAG;AAChC,UAAI,YAAY,QAAQ,YAAY,SAAS,SAAS,QAAQ,KAAK;AAC/D,qBAAa,IAAI,KAAM,IAAG,QAAQ,KAAK,YAAY,QAAQ,YAAY,SAAS,SAAS,QAAQ,SAAS,QAAQ,OAAO,SAAS,SAAS,GAAG,KAAM,KAAI;AAAA,MAC3J;AAAA,IACJ;AACD,WAAO;AAAA,EACV;AACL;AACAA,WAAA,UAAA,aAAqB;;","x_google_ignoreList":[0]}