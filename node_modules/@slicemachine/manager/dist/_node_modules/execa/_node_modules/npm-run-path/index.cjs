"use strict";
Object.defineProperty(exports, Symbol.toStringTag, { value: "Module" });
const process = require("node:process");
const path = require("node:path");
const url = require("node:url");
const index = require("../path-key/index.cjs");
function npmRunPath(options = {}) {
  const {
    cwd = process.cwd(),
    path: path_ = process.env[index()],
    execPath = process.execPath
  } = options;
  let previous;
  const cwdString = cwd instanceof URL ? url.fileURLToPath(cwd) : cwd;
  let cwdPath = path.resolve(cwdString);
  const result = [];
  while (previous !== cwdPath) {
    result.push(path.join(cwdPath, "node_modules/.bin"));
    previous = cwdPath;
    cwdPath = path.resolve(cwdPath, "..");
  }
  result.push(path.resolve(cwdString, execPath, ".."));
  return [...result, path_].join(path.delimiter);
}
function npmRunPathEnv({ env = process.env, ...options } = {}) {
  env = { ...env };
  const path2 = index({ env });
  options.path = env[path2];
  env[path2] = npmRunPath(options);
  return env;
}
exports.npmRunPath = npmRunPath;
exports.npmRunPathEnv = npmRunPathEnv;
//# sourceMappingURL=index.cjs.map
