{"version":3,"file":"Decoder.cjs","sources":["../../../../../../../node_modules/@msgpack/msgpack/dist.es5+esm/Decoder.mjs"],"sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __asyncValues = (this && this.__asyncValues) || function (o) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var m = o[Symbol.asyncIterator], i;\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n};\nvar __await = (this && this.__await) || function (v) { return this instanceof __await ? (this.v = v, this) : new __await(v); }\nvar __asyncGenerator = (this && this.__asyncGenerator) || function (thisArg, _arguments, generator) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n    function fulfill(value) { resume(\"next\", value); }\n    function reject(value) { resume(\"throw\", value); }\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n};\nimport { prettyByte } from \"./utils/prettyByte.mjs\";\nimport { ExtensionCodec } from \"./ExtensionCodec.mjs\";\nimport { getInt64, getUint64, UINT32_MAX } from \"./utils/int.mjs\";\nimport { utf8DecodeJs, TEXT_DECODER_THRESHOLD, utf8DecodeTD } from \"./utils/utf8.mjs\";\nimport { createDataView, ensureUint8Array } from \"./utils/typedArrays.mjs\";\nimport { CachedKeyDecoder } from \"./CachedKeyDecoder.mjs\";\nimport { DecodeError } from \"./DecodeError.mjs\";\nvar isValidMapKeyType = function (key) {\n    var keyType = typeof key;\n    return keyType === \"string\" || keyType === \"number\";\n};\nvar HEAD_BYTE_REQUIRED = -1;\nvar EMPTY_VIEW = new DataView(new ArrayBuffer(0));\nvar EMPTY_BYTES = new Uint8Array(EMPTY_VIEW.buffer);\n// IE11: Hack to support IE11.\n// IE11: Drop this hack and just use RangeError when IE11 is obsolete.\nexport var DataViewIndexOutOfBoundsError = (function () {\n    try {\n        // IE11: The spec says it should throw RangeError,\n        // IE11: but in IE11 it throws TypeError.\n        EMPTY_VIEW.getInt8(0);\n    }\n    catch (e) {\n        return e.constructor;\n    }\n    throw new Error(\"never reached\");\n})();\nvar MORE_DATA = new DataViewIndexOutOfBoundsError(\"Insufficient data\");\nvar sharedCachedKeyDecoder = new CachedKeyDecoder();\nvar Decoder = /** @class */ (function () {\n    function Decoder(extensionCodec, context, maxStrLength, maxBinLength, maxArrayLength, maxMapLength, maxExtLength, keyDecoder) {\n        if (extensionCodec === void 0) { extensionCodec = ExtensionCodec.defaultCodec; }\n        if (context === void 0) { context = undefined; }\n        if (maxStrLength === void 0) { maxStrLength = UINT32_MAX; }\n        if (maxBinLength === void 0) { maxBinLength = UINT32_MAX; }\n        if (maxArrayLength === void 0) { maxArrayLength = UINT32_MAX; }\n        if (maxMapLength === void 0) { maxMapLength = UINT32_MAX; }\n        if (maxExtLength === void 0) { maxExtLength = UINT32_MAX; }\n        if (keyDecoder === void 0) { keyDecoder = sharedCachedKeyDecoder; }\n        this.extensionCodec = extensionCodec;\n        this.context = context;\n        this.maxStrLength = maxStrLength;\n        this.maxBinLength = maxBinLength;\n        this.maxArrayLength = maxArrayLength;\n        this.maxMapLength = maxMapLength;\n        this.maxExtLength = maxExtLength;\n        this.keyDecoder = keyDecoder;\n        this.totalPos = 0;\n        this.pos = 0;\n        this.view = EMPTY_VIEW;\n        this.bytes = EMPTY_BYTES;\n        this.headByte = HEAD_BYTE_REQUIRED;\n        this.stack = [];\n    }\n    Decoder.prototype.reinitializeState = function () {\n        this.totalPos = 0;\n        this.headByte = HEAD_BYTE_REQUIRED;\n        this.stack.length = 0;\n        // view, bytes, and pos will be re-initialized in setBuffer()\n    };\n    Decoder.prototype.setBuffer = function (buffer) {\n        this.bytes = ensureUint8Array(buffer);\n        this.view = createDataView(this.bytes);\n        this.pos = 0;\n    };\n    Decoder.prototype.appendBuffer = function (buffer) {\n        if (this.headByte === HEAD_BYTE_REQUIRED && !this.hasRemaining(1)) {\n            this.setBuffer(buffer);\n        }\n        else {\n            var remainingData = this.bytes.subarray(this.pos);\n            var newData = ensureUint8Array(buffer);\n            // concat remainingData + newData\n            var newBuffer = new Uint8Array(remainingData.length + newData.length);\n            newBuffer.set(remainingData);\n            newBuffer.set(newData, remainingData.length);\n            this.setBuffer(newBuffer);\n        }\n    };\n    Decoder.prototype.hasRemaining = function (size) {\n        return this.view.byteLength - this.pos >= size;\n    };\n    Decoder.prototype.createExtraByteError = function (posToShow) {\n        var _a = this, view = _a.view, pos = _a.pos;\n        return new RangeError(\"Extra \".concat(view.byteLength - pos, \" of \").concat(view.byteLength, \" byte(s) found at buffer[\").concat(posToShow, \"]\"));\n    };\n    /**\n     * @throws {@link DecodeError}\n     * @throws {@link RangeError}\n     */\n    Decoder.prototype.decode = function (buffer) {\n        this.reinitializeState();\n        this.setBuffer(buffer);\n        var object = this.doDecodeSync();\n        if (this.hasRemaining(1)) {\n            throw this.createExtraByteError(this.pos);\n        }\n        return object;\n    };\n    Decoder.prototype.decodeMulti = function (buffer) {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    this.reinitializeState();\n                    this.setBuffer(buffer);\n                    _a.label = 1;\n                case 1:\n                    if (!this.hasRemaining(1)) return [3 /*break*/, 3];\n                    return [4 /*yield*/, this.doDecodeSync()];\n                case 2:\n                    _a.sent();\n                    return [3 /*break*/, 1];\n                case 3: return [2 /*return*/];\n            }\n        });\n    };\n    Decoder.prototype.decodeAsync = function (stream) {\n        var stream_1, stream_1_1;\n        var e_1, _a;\n        return __awaiter(this, void 0, void 0, function () {\n            var decoded, object, buffer, e_1_1, _b, headByte, pos, totalPos;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        decoded = false;\n                        _c.label = 1;\n                    case 1:\n                        _c.trys.push([1, 6, 7, 12]);\n                        stream_1 = __asyncValues(stream);\n                        _c.label = 2;\n                    case 2: return [4 /*yield*/, stream_1.next()];\n                    case 3:\n                        if (!(stream_1_1 = _c.sent(), !stream_1_1.done)) return [3 /*break*/, 5];\n                        buffer = stream_1_1.value;\n                        if (decoded) {\n                            throw this.createExtraByteError(this.totalPos);\n                        }\n                        this.appendBuffer(buffer);\n                        try {\n                            object = this.doDecodeSync();\n                            decoded = true;\n                        }\n                        catch (e) {\n                            if (!(e instanceof DataViewIndexOutOfBoundsError)) {\n                                throw e; // rethrow\n                            }\n                            // fallthrough\n                        }\n                        this.totalPos += this.pos;\n                        _c.label = 4;\n                    case 4: return [3 /*break*/, 2];\n                    case 5: return [3 /*break*/, 12];\n                    case 6:\n                        e_1_1 = _c.sent();\n                        e_1 = { error: e_1_1 };\n                        return [3 /*break*/, 12];\n                    case 7:\n                        _c.trys.push([7, , 10, 11]);\n                        if (!(stream_1_1 && !stream_1_1.done && (_a = stream_1.return))) return [3 /*break*/, 9];\n                        return [4 /*yield*/, _a.call(stream_1)];\n                    case 8:\n                        _c.sent();\n                        _c.label = 9;\n                    case 9: return [3 /*break*/, 11];\n                    case 10:\n                        if (e_1) throw e_1.error;\n                        return [7 /*endfinally*/];\n                    case 11: return [7 /*endfinally*/];\n                    case 12:\n                        if (decoded) {\n                            if (this.hasRemaining(1)) {\n                                throw this.createExtraByteError(this.totalPos);\n                            }\n                            return [2 /*return*/, object];\n                        }\n                        _b = this, headByte = _b.headByte, pos = _b.pos, totalPos = _b.totalPos;\n                        throw new RangeError(\"Insufficient data in parsing \".concat(prettyByte(headByte), \" at \").concat(totalPos, \" (\").concat(pos, \" in the current buffer)\"));\n                }\n            });\n        });\n    };\n    Decoder.prototype.decodeArrayStream = function (stream) {\n        return this.decodeMultiAsync(stream, true);\n    };\n    Decoder.prototype.decodeStream = function (stream) {\n        return this.decodeMultiAsync(stream, false);\n    };\n    Decoder.prototype.decodeMultiAsync = function (stream, isArray) {\n        return __asyncGenerator(this, arguments, function decodeMultiAsync_1() {\n            var isArrayHeaderRequired, arrayItemsLeft, stream_2, stream_2_1, buffer, e_2, e_3_1;\n            var e_3, _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        isArrayHeaderRequired = isArray;\n                        arrayItemsLeft = -1;\n                        _b.label = 1;\n                    case 1:\n                        _b.trys.push([1, 13, 14, 19]);\n                        stream_2 = __asyncValues(stream);\n                        _b.label = 2;\n                    case 2: return [4 /*yield*/, __await(stream_2.next())];\n                    case 3:\n                        if (!(stream_2_1 = _b.sent(), !stream_2_1.done)) return [3 /*break*/, 12];\n                        buffer = stream_2_1.value;\n                        if (isArray && arrayItemsLeft === 0) {\n                            throw this.createExtraByteError(this.totalPos);\n                        }\n                        this.appendBuffer(buffer);\n                        if (isArrayHeaderRequired) {\n                            arrayItemsLeft = this.readArraySize();\n                            isArrayHeaderRequired = false;\n                            this.complete();\n                        }\n                        _b.label = 4;\n                    case 4:\n                        _b.trys.push([4, 9, , 10]);\n                        _b.label = 5;\n                    case 5:\n                        if (!true) return [3 /*break*/, 8];\n                        return [4 /*yield*/, __await(this.doDecodeSync())];\n                    case 6: return [4 /*yield*/, _b.sent()];\n                    case 7:\n                        _b.sent();\n                        if (--arrayItemsLeft === 0) {\n                            return [3 /*break*/, 8];\n                        }\n                        return [3 /*break*/, 5];\n                    case 8: return [3 /*break*/, 10];\n                    case 9:\n                        e_2 = _b.sent();\n                        if (!(e_2 instanceof DataViewIndexOutOfBoundsError)) {\n                            throw e_2; // rethrow\n                        }\n                        return [3 /*break*/, 10];\n                    case 10:\n                        this.totalPos += this.pos;\n                        _b.label = 11;\n                    case 11: return [3 /*break*/, 2];\n                    case 12: return [3 /*break*/, 19];\n                    case 13:\n                        e_3_1 = _b.sent();\n                        e_3 = { error: e_3_1 };\n                        return [3 /*break*/, 19];\n                    case 14:\n                        _b.trys.push([14, , 17, 18]);\n                        if (!(stream_2_1 && !stream_2_1.done && (_a = stream_2.return))) return [3 /*break*/, 16];\n                        return [4 /*yield*/, __await(_a.call(stream_2))];\n                    case 15:\n                        _b.sent();\n                        _b.label = 16;\n                    case 16: return [3 /*break*/, 18];\n                    case 17:\n                        if (e_3) throw e_3.error;\n                        return [7 /*endfinally*/];\n                    case 18: return [7 /*endfinally*/];\n                    case 19: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Decoder.prototype.doDecodeSync = function () {\n        DECODE: while (true) {\n            var headByte = this.readHeadByte();\n            var object = void 0;\n            if (headByte >= 0xe0) {\n                // negative fixint (111x xxxx) 0xe0 - 0xff\n                object = headByte - 0x100;\n            }\n            else if (headByte < 0xc0) {\n                if (headByte < 0x80) {\n                    // positive fixint (0xxx xxxx) 0x00 - 0x7f\n                    object = headByte;\n                }\n                else if (headByte < 0x90) {\n                    // fixmap (1000 xxxx) 0x80 - 0x8f\n                    var size = headByte - 0x80;\n                    if (size !== 0) {\n                        this.pushMapState(size);\n                        this.complete();\n                        continue DECODE;\n                    }\n                    else {\n                        object = {};\n                    }\n                }\n                else if (headByte < 0xa0) {\n                    // fixarray (1001 xxxx) 0x90 - 0x9f\n                    var size = headByte - 0x90;\n                    if (size !== 0) {\n                        this.pushArrayState(size);\n                        this.complete();\n                        continue DECODE;\n                    }\n                    else {\n                        object = [];\n                    }\n                }\n                else {\n                    // fixstr (101x xxxx) 0xa0 - 0xbf\n                    var byteLength = headByte - 0xa0;\n                    object = this.decodeUtf8String(byteLength, 0);\n                }\n            }\n            else if (headByte === 0xc0) {\n                // nil\n                object = null;\n            }\n            else if (headByte === 0xc2) {\n                // false\n                object = false;\n            }\n            else if (headByte === 0xc3) {\n                // true\n                object = true;\n            }\n            else if (headByte === 0xca) {\n                // float 32\n                object = this.readF32();\n            }\n            else if (headByte === 0xcb) {\n                // float 64\n                object = this.readF64();\n            }\n            else if (headByte === 0xcc) {\n                // uint 8\n                object = this.readU8();\n            }\n            else if (headByte === 0xcd) {\n                // uint 16\n                object = this.readU16();\n            }\n            else if (headByte === 0xce) {\n                // uint 32\n                object = this.readU32();\n            }\n            else if (headByte === 0xcf) {\n                // uint 64\n                object = this.readU64();\n            }\n            else if (headByte === 0xd0) {\n                // int 8\n                object = this.readI8();\n            }\n            else if (headByte === 0xd1) {\n                // int 16\n                object = this.readI16();\n            }\n            else if (headByte === 0xd2) {\n                // int 32\n                object = this.readI32();\n            }\n            else if (headByte === 0xd3) {\n                // int 64\n                object = this.readI64();\n            }\n            else if (headByte === 0xd9) {\n                // str 8\n                var byteLength = this.lookU8();\n                object = this.decodeUtf8String(byteLength, 1);\n            }\n            else if (headByte === 0xda) {\n                // str 16\n                var byteLength = this.lookU16();\n                object = this.decodeUtf8String(byteLength, 2);\n            }\n            else if (headByte === 0xdb) {\n                // str 32\n                var byteLength = this.lookU32();\n                object = this.decodeUtf8String(byteLength, 4);\n            }\n            else if (headByte === 0xdc) {\n                // array 16\n                var size = this.readU16();\n                if (size !== 0) {\n                    this.pushArrayState(size);\n                    this.complete();\n                    continue DECODE;\n                }\n                else {\n                    object = [];\n                }\n            }\n            else if (headByte === 0xdd) {\n                // array 32\n                var size = this.readU32();\n                if (size !== 0) {\n                    this.pushArrayState(size);\n                    this.complete();\n                    continue DECODE;\n                }\n                else {\n                    object = [];\n                }\n            }\n            else if (headByte === 0xde) {\n                // map 16\n                var size = this.readU16();\n                if (size !== 0) {\n                    this.pushMapState(size);\n                    this.complete();\n                    continue DECODE;\n                }\n                else {\n                    object = {};\n                }\n            }\n            else if (headByte === 0xdf) {\n                // map 32\n                var size = this.readU32();\n                if (size !== 0) {\n                    this.pushMapState(size);\n                    this.complete();\n                    continue DECODE;\n                }\n                else {\n                    object = {};\n                }\n            }\n            else if (headByte === 0xc4) {\n                // bin 8\n                var size = this.lookU8();\n                object = this.decodeBinary(size, 1);\n            }\n            else if (headByte === 0xc5) {\n                // bin 16\n                var size = this.lookU16();\n                object = this.decodeBinary(size, 2);\n            }\n            else if (headByte === 0xc6) {\n                // bin 32\n                var size = this.lookU32();\n                object = this.decodeBinary(size, 4);\n            }\n            else if (headByte === 0xd4) {\n                // fixext 1\n                object = this.decodeExtension(1, 0);\n            }\n            else if (headByte === 0xd5) {\n                // fixext 2\n                object = this.decodeExtension(2, 0);\n            }\n            else if (headByte === 0xd6) {\n                // fixext 4\n                object = this.decodeExtension(4, 0);\n            }\n            else if (headByte === 0xd7) {\n                // fixext 8\n                object = this.decodeExtension(8, 0);\n            }\n            else if (headByte === 0xd8) {\n                // fixext 16\n                object = this.decodeExtension(16, 0);\n            }\n            else if (headByte === 0xc7) {\n                // ext 8\n                var size = this.lookU8();\n                object = this.decodeExtension(size, 1);\n            }\n            else if (headByte === 0xc8) {\n                // ext 16\n                var size = this.lookU16();\n                object = this.decodeExtension(size, 2);\n            }\n            else if (headByte === 0xc9) {\n                // ext 32\n                var size = this.lookU32();\n                object = this.decodeExtension(size, 4);\n            }\n            else {\n                throw new DecodeError(\"Unrecognized type byte: \".concat(prettyByte(headByte)));\n            }\n            this.complete();\n            var stack = this.stack;\n            while (stack.length > 0) {\n                // arrays and maps\n                var state = stack[stack.length - 1];\n                if (state.type === 0 /* State.ARRAY */) {\n                    state.array[state.position] = object;\n                    state.position++;\n                    if (state.position === state.size) {\n                        stack.pop();\n                        object = state.array;\n                    }\n                    else {\n                        continue DECODE;\n                    }\n                }\n                else if (state.type === 1 /* State.MAP_KEY */) {\n                    if (!isValidMapKeyType(object)) {\n                        throw new DecodeError(\"The type of key must be string or number but \" + typeof object);\n                    }\n                    if (object === \"__proto__\") {\n                        throw new DecodeError(\"The key __proto__ is not allowed\");\n                    }\n                    state.key = object;\n                    state.type = 2 /* State.MAP_VALUE */;\n                    continue DECODE;\n                }\n                else {\n                    // it must be `state.type === State.MAP_VALUE` here\n                    state.map[state.key] = object;\n                    state.readCount++;\n                    if (state.readCount === state.size) {\n                        stack.pop();\n                        object = state.map;\n                    }\n                    else {\n                        state.key = null;\n                        state.type = 1 /* State.MAP_KEY */;\n                        continue DECODE;\n                    }\n                }\n            }\n            return object;\n        }\n    };\n    Decoder.prototype.readHeadByte = function () {\n        if (this.headByte === HEAD_BYTE_REQUIRED) {\n            this.headByte = this.readU8();\n            // console.log(\"headByte\", prettyByte(this.headByte));\n        }\n        return this.headByte;\n    };\n    Decoder.prototype.complete = function () {\n        this.headByte = HEAD_BYTE_REQUIRED;\n    };\n    Decoder.prototype.readArraySize = function () {\n        var headByte = this.readHeadByte();\n        switch (headByte) {\n            case 0xdc:\n                return this.readU16();\n            case 0xdd:\n                return this.readU32();\n            default: {\n                if (headByte < 0xa0) {\n                    return headByte - 0x90;\n                }\n                else {\n                    throw new DecodeError(\"Unrecognized array type byte: \".concat(prettyByte(headByte)));\n                }\n            }\n        }\n    };\n    Decoder.prototype.pushMapState = function (size) {\n        if (size > this.maxMapLength) {\n            throw new DecodeError(\"Max length exceeded: map length (\".concat(size, \") > maxMapLengthLength (\").concat(this.maxMapLength, \")\"));\n        }\n        this.stack.push({\n            type: 1 /* State.MAP_KEY */,\n            size: size,\n            key: null,\n            readCount: 0,\n            map: {},\n        });\n    };\n    Decoder.prototype.pushArrayState = function (size) {\n        if (size > this.maxArrayLength) {\n            throw new DecodeError(\"Max length exceeded: array length (\".concat(size, \") > maxArrayLength (\").concat(this.maxArrayLength, \")\"));\n        }\n        this.stack.push({\n            type: 0 /* State.ARRAY */,\n            size: size,\n            array: new Array(size),\n            position: 0,\n        });\n    };\n    Decoder.prototype.decodeUtf8String = function (byteLength, headerOffset) {\n        var _a;\n        if (byteLength > this.maxStrLength) {\n            throw new DecodeError(\"Max length exceeded: UTF-8 byte length (\".concat(byteLength, \") > maxStrLength (\").concat(this.maxStrLength, \")\"));\n        }\n        if (this.bytes.byteLength < this.pos + headerOffset + byteLength) {\n            throw MORE_DATA;\n        }\n        var offset = this.pos + headerOffset;\n        var object;\n        if (this.stateIsMapKey() && ((_a = this.keyDecoder) === null || _a === void 0 ? void 0 : _a.canBeCached(byteLength))) {\n            object = this.keyDecoder.decode(this.bytes, offset, byteLength);\n        }\n        else if (byteLength > TEXT_DECODER_THRESHOLD) {\n            object = utf8DecodeTD(this.bytes, offset, byteLength);\n        }\n        else {\n            object = utf8DecodeJs(this.bytes, offset, byteLength);\n        }\n        this.pos += headerOffset + byteLength;\n        return object;\n    };\n    Decoder.prototype.stateIsMapKey = function () {\n        if (this.stack.length > 0) {\n            var state = this.stack[this.stack.length - 1];\n            return state.type === 1 /* State.MAP_KEY */;\n        }\n        return false;\n    };\n    Decoder.prototype.decodeBinary = function (byteLength, headOffset) {\n        if (byteLength > this.maxBinLength) {\n            throw new DecodeError(\"Max length exceeded: bin length (\".concat(byteLength, \") > maxBinLength (\").concat(this.maxBinLength, \")\"));\n        }\n        if (!this.hasRemaining(byteLength + headOffset)) {\n            throw MORE_DATA;\n        }\n        var offset = this.pos + headOffset;\n        var object = this.bytes.subarray(offset, offset + byteLength);\n        this.pos += headOffset + byteLength;\n        return object;\n    };\n    Decoder.prototype.decodeExtension = function (size, headOffset) {\n        if (size > this.maxExtLength) {\n            throw new DecodeError(\"Max length exceeded: ext length (\".concat(size, \") > maxExtLength (\").concat(this.maxExtLength, \")\"));\n        }\n        var extType = this.view.getInt8(this.pos + headOffset);\n        var data = this.decodeBinary(size, headOffset + 1 /* extType */);\n        return this.extensionCodec.decode(data, extType, this.context);\n    };\n    Decoder.prototype.lookU8 = function () {\n        return this.view.getUint8(this.pos);\n    };\n    Decoder.prototype.lookU16 = function () {\n        return this.view.getUint16(this.pos);\n    };\n    Decoder.prototype.lookU32 = function () {\n        return this.view.getUint32(this.pos);\n    };\n    Decoder.prototype.readU8 = function () {\n        var value = this.view.getUint8(this.pos);\n        this.pos++;\n        return value;\n    };\n    Decoder.prototype.readI8 = function () {\n        var value = this.view.getInt8(this.pos);\n        this.pos++;\n        return value;\n    };\n    Decoder.prototype.readU16 = function () {\n        var value = this.view.getUint16(this.pos);\n        this.pos += 2;\n        return value;\n    };\n    Decoder.prototype.readI16 = function () {\n        var value = this.view.getInt16(this.pos);\n        this.pos += 2;\n        return value;\n    };\n    Decoder.prototype.readU32 = function () {\n        var value = this.view.getUint32(this.pos);\n        this.pos += 4;\n        return value;\n    };\n    Decoder.prototype.readI32 = function () {\n        var value = this.view.getInt32(this.pos);\n        this.pos += 4;\n        return value;\n    };\n    Decoder.prototype.readU64 = function () {\n        var value = getUint64(this.view, this.pos);\n        this.pos += 8;\n        return value;\n    };\n    Decoder.prototype.readI64 = function () {\n        var value = getInt64(this.view, this.pos);\n        this.pos += 8;\n        return value;\n    };\n    Decoder.prototype.readF32 = function () {\n        var value = this.view.getFloat32(this.pos);\n        this.pos += 4;\n        return value;\n    };\n    Decoder.prototype.readF64 = function () {\n        var value = this.view.getFloat64(this.pos);\n        this.pos += 8;\n        return value;\n    };\n    return Decoder;\n}());\nexport { Decoder };\n//# sourceMappingURL=Decoder.mjs.map"],"names":["this","v","CachedKeyDecoder","Decoder","ExtensionCodec","UINT32_MAX","ensureUint8Array","createDataView","prettyByte","DecodeError","TEXT_DECODER_THRESHOLD","utf8DecodeTD","utf8DecodeJs","getUint64","getInt64"],"mappings":"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","x_google_ignoreList":[0]}