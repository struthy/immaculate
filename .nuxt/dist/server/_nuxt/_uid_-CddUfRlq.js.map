{"version":3,"file":"_uid_-CddUfRlq.js","sources":["../../../../pages/articles/[uid].vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { type Content } from '@prismicio/client'\n\nimport { components } from '~/slices'\n\nconst dateFormatter = new Intl.DateTimeFormat('en-US', {\n  month: 'short',\n  day: 'numeric',\n  year: 'numeric'\n})\n\nconst prismic = usePrismic()\nconst route = useRoute()\n\nconst { data: article } = useAsyncData(`articles/${route.params.uid}`, () =>\n  prismic.client.getByUID('article', route.params.uid as string)\n)\nconst { data: latestArticles } = useAsyncData('$latestArticles', () =>\n  prismic.client.getAllByType(\"article\", {\n    limit: 3,\n    orderings: [\n      { field: \"my.article.publishDate\", direction: \"desc\" },\n      { field: \"document.first_publication_date\", direction: \"desc\" },\n    ],\n  })\n)\n\nconst settings = useSettings()\n\ndefinePageMeta({\n  withHeaderProfile: false,\n  withHeaderDivider: false,\n  withFooterSignUpForm: true\n})\n\nuseHead({\n  title: computed(() => `${prismic.asText(article.value?.data.title)} | ${prismic.asText(settings.value?.data.name)}`)\n})\n\nconst formatDate = (article: Content.ArticleDocument | null) => {\n  const date = prismic.asDate(article?.data.publishDate || article?.first_publication_date)\n\n  return dateFormatter.format(date || undefined)\n}\n</script>\n\n<template>\n  <div>\n    <Bounded>\n      <NuxtLink\n        to=\"/\"\n        class=\"font-semibold tracking-tight text-slate-400\"\n      >\n        &larr; Back to articles\n      </NuxtLink>\n    </Bounded>\n    <article>\n      <Bounded class=\"pb-0\">\n        <PrismicText\n          :field=\"article?.data.title\"\n          wrapper=\"h1\"\n          class=\"mb-3 text-3xl font-semibold tracking-tighter text-slate-800 md:text-4xl\"\n        />\n        <p class=\"font-serif italic tracking-tighter text-slate-500\">\n          {{ formatDate(article) }}\n        </p>\n\n        <PrismicImage \n          :field=\"article?.data.featuredImage\"\n          class=\"mb-4\"\n        />\n\n        <PrismicRichText :field=\"article?.data.text\"/>\n\n        \n      </Bounded>\n      <SliceZone\n        :slices=\"article?.data.slices ?? []\"\n        :components=\"components\"\n      />\n    </article>\n    <Bounded v-if=\"latestArticles?.length\">\n      <div class=\"grid grid-cols-1 justify-items-center gap-16 md:gap-24\">\n        <HorizontalDivider />\n        <div class=\"w-full\">\n          <Heading\n            size=\"2xl\"\n            class=\"mb-10\"\n          >\n            Latest articles\n          </Heading>\n          <ul class=\"grid grid-cols-1 gap-12\">\n            <li\n              v-for=\"latestArticle in latestArticles\"\n              :key=\"latestArticle.id\"\n            >\n              <h1 class=\"mb-3 text-3xl font-semibold tracking-tighter text-slate-800 md:text-4xl\">\n                <PrismicLink :field=\"latestArticle\">\n                  {{ $prismic.asText(latestArticle.data.title) }}\n                </PrismicLink>\n              </h1>\n              <p class=\"font-serif italic tracking-tighter text-slate-500\">\n                {{ formatDate(latestArticle) }}\n              </p>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </Bounded>\n  </div>\n</template>\n"],"names":["article"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAKA,UAAM,gBAAgB,IAAI,KAAK,eAAe,SAAS;AAAA,MACrD,OAAO;AAAA,MACP,KAAK;AAAA,MACL,MAAM;AAAA,IAAA,CACP;AAED,UAAM,UAAU;AAChB,UAAM,QAAQ;AAER,UAAA,EAAE,MAAM,QAAA,IAAY;AAAA,MAAa,YAAY,MAAM,OAAO,GAAG;AAAA,MAAI,MACrE,QAAQ,OAAO,SAAS,WAAW,MAAM,OAAO,GAAa;AAAA,IAAA;AAEzD,UAAA,EAAE,MAAM,eAAA,IAAmB;AAAA,MAAa;AAAA,MAAmB,MAC/D,QAAQ,OAAO,aAAa,WAAW;AAAA,QACrC,OAAO;AAAA,QACP,WAAW;AAAA,UACT,EAAE,OAAO,0BAA0B,WAAW,OAAO;AAAA,UACrD,EAAE,OAAO,mCAAmC,WAAW,OAAO;AAAA,QAChE;AAAA,MAAA,CACD;AAAA,IAAA;AAGH,UAAM,WAAW;AAQT,YAAA;AAAA,MACN,OAAO,SAAS,MAAA;;AAAM,kBAAG,QAAQ,QAAO,aAAQ,UAAR,mBAAe,KAAK,KAAK,CAAC,MAAM,QAAQ,QAAO,cAAS,UAAT,mBAAgB,KAAK,IAAI,CAAC;AAAA,OAAE;AAAA,IAAA,CACpH;AAEK,UAAA,aAAa,CAACA,aAA4C;AAC9D,YAAM,OAAO,QAAQ,QAAOA,qCAAS,KAAK,iBAAeA,qCAAS,uBAAsB;AAEjF,aAAA,cAAc,OAAO,QAAQ,MAAS;AAAA,IAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}